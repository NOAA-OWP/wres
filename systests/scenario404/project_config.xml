<?xml version="1.0" encoding="UTF-8"?>
<!-- This is a test of real, baseline validation streamflows verified through WRES where the obs is 24-h
     and the forecasts are 6-h.  Time aggregation is needed. -->
<project label="ExampleProject" name="scenario400">

    <inputs>
        <left label="Observations">
            <type>observations</type>
            <source format="datacard" zoneOffset="CST" unit="CFS" >../data/singleValuedEx_ABRFC_ARCFUL_OBS/GLOO2X.QINE.19951101.20170905.datacard</source>
            <variable>QINE</variable>
<!--        <existingTimeScale>
            <function>avg</function>
            <period>6</period>
            <unit>hours</unit>
        </existingTimeScale>
-->
        </left>
        <right label="Operational Single-Valued Forecasts" >
            <type>single valued forecasts</type>
            <source format="PI-XML">../data/singleValuedEx_ABRFC_ARCFUL_QINE</source>
            <variable>QINE</variable>
        </right>
        <baseline>
            <type>observations</type>
            <source format="datacard" zoneOffset="CST" unit="CFS" >../data/singleValuedEx_ABRFC_ARCFUL_OBS/GLOO2X.QINE.19951101.20170905.datacard</source>
            <variable>QINE</variable>
            <transformation>persistence</transformation>
        </baseline>
    </inputs>

    <pair label="Pairs by location and lead time">
        <unit>CMS</unit>
        <feature locationId="GLOO2" />
        <leadHours minimum="1" maximum="24" />

        <desiredTimeScale>
            <function>avg</function>
            <period>6</period>
            <unit>hours</unit>
        </desiredTimeScale>
        
        <!-- Eventually, 400 will use lead times pooling instead of desiredTimeScale "none".  So I'm doing it now in this test.-->
        <leadTimesPoolingWindow>
            <period>6</period>
            <unit>hours</unit>
        </leadTimesPoolingWindow>
    </pair>

    <metrics>
        <probabilityThresholds>
            <applyTo>left</applyTo>
            <commaSeparatedValues>0.1,0.25,0.5,0.75,0.9,0.95</commaSeparatedValues>
            <operator>greater than or equal to</operator>
        </probabilityThresholds>
        <metric><name>mean error</name></metric>
        <metric><name>sample size</name></metric>
        <metric><name>mean square error skill score</name></metric>
    </metrics>

    <outputs>
        <destination type="pairs" decimalFormat="0.000000">
            <path>output/</path>
        </destination>
        <destination type="numeric" decimalFormat="0.000000">
            <path>output/</path>
        </destination>
        <destination type="graphic">
            <path>output</path>
            <outputType>lead threshold</outputType>
            <graphical width="800" height="600">
            </graphical>
        </destination>
    </outputs>

</project>
